
@using Part2.Data
@using Microsoft.AspNetCore.Identity

@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

@{
    
        DateTime zeroTime = new DateTime(1, 1, 1);
        

        TimeSpan span = DateTime.Now.Subtract(UserManager.FindByEmailAsync(User.Identity.Name).Result.DateOfBirth);
        
        // Because we start at year 1 for the Gregorian
        // calendar, we must subtract a year here.
        int years = (zeroTime + span).Year - 1;
    
    

    <div class="text-center" style="margin-top: 25%">
     <h1>Welcome to the CO876 Course</h1>
    

    @if( @years > 18)
    {
        <h2>You are seeing this because you are older than 18</h2>
        
    }
    else
    {
        <h2>You are seeing this because you are younger than 18</h2>
    }
    </div>
   

    
}
